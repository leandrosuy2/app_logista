<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Negociar Cobranças - {% block title %}Sistema de Cobrança{% endblock %}</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <style>
      :root{
        --chip-border:#e5e7eb;
        --chip-hover:#f3f4f6;
        --chip-active:#dbeafe;
        --brand-blue:#1e3a8a;
        --brand-accent:#fbc02d;
      }
      body{
        background:#f4f6f9;
        font-family:'Poppins',system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
        color:#333;
      }
      .navbar{
        background:#fff;
        border-bottom:1px solid #dee2e6;
        box-shadow:0 1px 2px rgba(0,0,0,.05);
        padding:0.3rem 0;
        min-height:42px;
      }
      
      .navbar .container{
        padding-left:1rem;
        padding-right:1rem;
      }
      
      .navbar-brand{
        font-weight:600;
        color:#212529;
        display:flex;
        align-items:center;
        gap:0.5rem;
        font-size:0.875rem;
        text-decoration:none;
        padding:0;
        margin-right:2rem;
        flex-shrink:0;
      }
      
      .navbar-brand:hover{ 
        color:#007bff;
        text-decoration:none;
      }
      .navbar-brand img{
        max-width:28px;
        height:auto;
        border-radius:4px;
        flex-shrink:0;
      }
      .navbar-brand span{
        white-space:nowrap;
      }

      /* Menu de navegação */
      .nav-link-custom{
        color:#495057;
        font-weight:500;
        padding:0.25rem 0.75rem;
        border-radius:4px;
        text-decoration:none;
        display:flex;
        align-items:center;
        gap:0.4rem;
        font-size:0.8rem;
      }
      
      .nav-link-custom span{
        display:inline-block;
      }
      .nav-link-custom:hover{
        background:#f8f9fa;
        color:#007bff;
        text-decoration:none;
      }
      .nav-link-custom.active{
        background:#007bff;
        color:#fff;
      }
      .nav-link-custom.active:hover{
        background:#0056b3;
        color:#fff;
      }

      /* Dropdown */
      .dropdown-menu{
        background:#fff;
        border:1px solid #dee2e6;
        box-shadow:0 4px 12px rgba(0,0,0,.1);
        border-radius:6px;
        padding:0.5rem 0;
        margin-top:0.5rem;
      }
      .dropdown-item{
        display:flex;
        align-items:center;
        gap:0.6rem;
        padding:0.5rem 1rem;
        color:#495057;
        font-size:0.875rem;
      }
      .dropdown-item:hover{
        background:#f8f9fa;
        color:#007bff;
      }

      /* Área do usuário */
      .user-info{
        display:flex;
        align-items:center;
        gap:0.4rem;
        padding:0.25rem 0.6rem;
        background:#f8f9fa;
        border-radius:4px;
        font-size:0.75rem;
      }
      .user-info strong{
        color:#212529;
        font-weight:600;
      }
      
      .btn-logout{
        background:#dc3545;
        color:#fff;
        border:none;
        padding:0.25rem 0.6rem;
        border-radius:4px;
        font-weight:500;
        font-size:0.75rem;
        display:flex;
        align-items:center;
        gap:0.35rem;
        text-decoration:none;
      }
      .btn-logout:hover{
        background:#c82333;
        color:#fff;
        text-decoration:none;
      }

      .content-container{
        padding:1rem;
        background:#fff;
        border-radius:8px;
        box-shadow:0 2px 8px rgba(0,0,0,.06);
        margin-top:1rem;
        min-height:auto;
      }
      
      /* Remove padding extra quando a página já tem seu próprio container */
      .content-container > .container{
        padding:0;
      }

      footer{
        background:#fff;
        color:#6c757d;
        padding:0.5rem 0;
        text-align:center;
        margin-top:1.5rem;
        border-top:1px solid #dee2e6;
        font-size:0.75rem;
      }
      
      footer p{
        margin:0.15rem 0;
        font-size:0.75rem;
        color:#6c757d;
        line-height:1.4;
      }
      
      footer a{
        color:#007bff;
        font-weight:500;
        text-decoration:none;
        transition:color 0.2s ease;
      }
      
      footer a:hover{
        color:#0056b3;
        text-decoration:underline;
      }
      
      footer i.fa-heart{
        color:#dc3545;
        font-size:0.7rem;
      }

      .navbar-toggler{
        border:1px solid #dee2e6;
        padding:0.25rem 0.5rem;
        font-size:0.9rem;
      }
      .navbar-toggler:focus{
        box-shadow:none;
      }
      
      @media (max-width: 991px) {
        .navbar{
          padding:0.4rem 0;
        }
        
        .navbar .container{
          display:flex;
          align-items:center;
          justify-content:space-between;
          width:100%;
        }
        
        .navbar-brand{
          margin-right:auto;
          font-size:0.8rem;
          flex-shrink:0;
          max-width:none;
        }
        
        .navbar-brand img{
          max-width:24px;
          height:auto;
        }
        
        .navbar-brand span{
          display:none;
        }
        
        .navbar-toggler{
          margin-left:0.5rem;
          order:2;
        }
        
        .navbar-nav{
          margin-top:0.5rem;
        }
        
        .nav-link-custom{
          padding:0.5rem 0.75rem;
          width:100%;
        }
        
        .nav-link-custom span{
          display:inline-block !important;
        }
        
        .nav-link-custom i{
          display:inline-block;
          flex-shrink:0;
        }
        
        .dropdown-menu{
          position:static;
          width:100%;
          margin-top:0.25rem;
          border:none;
          box-shadow:none;
          background:#f8f9fa;
        }
        
        .user-area{
          flex-direction:column;
          width:100%;
          margin-top:0.5rem;
          gap:0.5rem;
        }
        
        .user-info{
          width:100%;
          padding:0.5rem 0.75rem;
        }
        
        .user-info span{
          display:inline-block !important;
        }
        
        .btn-logout{
          width:100%;
          justify-content:center;
          padding:0.5rem 0.75rem;
        }
        
        .btn-logout span{
          display:inline-block !important;
        }
      }
      
      @media (max-width: 576px) {
        .navbar .container{
          padding-left:0.75rem;
          padding-right:0.75rem;
        }
        
        .navbar-brand{
          font-size:0.75rem;
          gap:0.4rem;
        }
        
        .navbar-brand img{
          max-width:22px;
          height:auto;
        }
        
        
        footer{
          padding:0.4rem 0;
          font-size:0.7rem;
          margin-top:1rem;
        }
        
        footer p{
          font-size:0.7rem;
          margin:0.1rem 0;
        }
        
        footer .container{
          padding-left:0.75rem;
          padding-right:0.75rem;
        }
      }
    </style>
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand" href="{% url 'dashboard' %}">
        <img src="/media/logos/logo_empresa.jpeg" alt="Logo">
        <span>Negociar Cobranças</span>
      </a>

      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
              aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars"></i>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item">
            <a class="nav-link-custom {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}"
               href="{% url 'dashboard' %}">
              <i class="fas fa-gauge"></i>
              <span>Painel</span>
            </a>
          </li>

          <li class="nav-item dropdown">
            <a class="nav-link-custom dropdown-toggle" href="#" id="gerenciamentoMenu" role="button"
               data-bs-toggle="dropdown" aria-expanded="false">
              <i class="fas fa-cog"></i>
              <span>Gerenciamento</span>
            </a>
            <ul class="dropdown-menu" aria-labelledby="gerenciamentoMenu">
              <li><a class="dropdown-item" href="{% url 'devedores_listar' %}">
                <i class="fas fa-users"></i> Devedores</a></li>
              <li><a class="dropdown-item" href="{% url 'quitados_listar' %}">
                <i class="fas fa-list-check"></i> Lista de Quitados</a></li>
              <li><a class="dropdown-item" href="{% url 'listar_agendamentos' %}">
                <i class="fas fa-calendar-days"></i> Agendamentos</a></li>
              <li><a class="dropdown-item" href="{% url 'acordos_listar' %}">
                <i class="fas fa-handshake"></i> Acordos & Pagamentos</a></li>
            </ul>
          </li>
        </ul>

        <div class="d-flex align-items-center ms-auto user-area" style="gap:1rem;">
          <div class="user-info">
            <i class="fas fa-user-circle text-muted"></i>
            <span>Bem-vindo, <strong>{{ request.session.nome_fantasia_sessao }}</strong></span>
          </div>
          <a class="btn-logout" href="{% url 'logout' %}">
            <i class="fas fa-sign-out-alt"></i>
            <span>Sair</span>
          </a>
        </div>
      </div>
    </div>
  </nav>

  <!-- Conteúdo -->
  <div class="container content-container">
    {% block content %}{% endblock %}
  </div>

  <!-- Footer -->
  <footer>
    <div class="container">
      <p class="mb-0">&copy; 2025 Negociar Cobranças. Desenvolvido com <i class="fas fa-heart"></i> por nossa equipe Negociar Cobranças.</p>
    </div>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
